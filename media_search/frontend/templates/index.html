{%- macro script_tag(filename) %}
<script type="module" src="{{ url_for('.static', filename='js/' + filename + '.js') }}"></script>
{% endmacro -%}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>OSINT Geolocation Databases Search</title>
  {#- Icon from leaflet - https://leafletjs.com/ Copyright (c) 2010-2022, Vladimir Agafonkin #}
  <link rel="shortcut icon" type="image/png" href="{{ url_for('.static', filename='marker-icon.png') }}">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<style>
#results { margin-top: 1em; }
.result { border: 2px solid #d1e6e6; max-width: 600px;
          border-radius: 10px; padding: 5px 10px; }
.intro { max-width: 800px; }
.text { max-width: 600px; }
.align-right { text-align: right; }
#urls { width: 400px; }
#url-field, #file-field { display: inline-block; width: 300px }
</style>
<body>
<h1>OSINT Geolocation Databases Search</h1>
{#- TODO: Better copy here -#}
<div class="intro">
  <p class="text">
  Find out if a link from e.g. Twitter or Telegram has already been geolocated by OSINT researchers.
  Currently searches
  <a href="https://maphub.net/Cen4infoRes/russian-ukraine-monitor">Centre for Information Resilience</a>,
  <a href="https://ukraine.bellingcat.com/">Bellingcat's Ukraine</a>
  and <a href="https://geoconfirmed.azurewebsites.net/">@GeoConfirmed</a> mapping projects.
  <em>(<a href="https://reukraine.shtab.net/">reukraine.shtab.net</a> in beta, not updated automatically).</em>
  </p>
  <div class="align-right">
  Source and more info available at <a href="https://github.com/conflict-investigations/media-search-engine">GitHub</a>
  <br>
  Also check out the <a href="https://github.com/conflict-investigations/media-search-engine#api--web-ui">API</a>
  </div>
</div>

<p>
<form id='url-field'>
  <div id='example'> Example: <a href='#' onclick='(e) => e.preventDefault()' id='example-query'>twitter.com/RALee85/[...]</a></div>
  <label for='url'>Enter URL:</label><br>
  <input type='text' id='url' name='url'>
  <input type='submit' value='Check'>
</form>

<form id='file-field'>
  <label for='file'>Upload .csv file with links:</label><br>
  <input type="file" id='file' name="file" accept=".csv">
  <input type='submit' value='Check'>
</form>
</p>

<p>
<form id='textarea-field'>
  <label for='urls'>Enter multiple URLs:</label><br>
  <textarea id='urls'
            placeholder='Links, separated by comma or empty spaces'
  ></textarea>
  <input type='submit' value='Check'>
</form>
</p>

<div id="results"></div>

{#- <script type="module" src="{{ url_for('.static', filename='vendor/leaflet/leaflet.js') }}"></script> -#}
{{ script_tag('autosize') }}
{{ script_tag('index') }}
</body>
</html>
